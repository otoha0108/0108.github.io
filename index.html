<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
  <title>HELL0w0RLD! by 0108</title>
  <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
  <style>
    body {
      background: #1a1a1a;
      color: #00ffcc;
      font-family: 'DotGothic16', 'Courier New', monospace;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      font-size: 14px;
      letter-spacing: 0.08em;
    }
    #terminal {
      background: #000;
      border: 2px solid #00ffcc;
      padding: 10px;
      width: 90%;
      max-width: 600px;
      min-height: 80vh;
      overflow-y: auto;
      position: relative;
      -webkit-overflow-scrolling: touch;
    }
    #lang-buttons {
      text-align: right;
      margin-bottom: 5px;
    }
    #lang-buttons button {
      background: none;
      border: 1px solid #00ffcc;
      color: #00ffcc;
      padding: 8px 12px;
      font-family: 'DotGothic16', monospace;
      cursor: pointer;
      margin-left: 5px;
      font-size: 16px;
      min-width: 60px;
    }
    #lang-buttons button:hover {
      background-color: #00ffcc;
      color: #000;
    }
    #lang-buttons button.active {
      background-color: #00ffcc;
      color: #000;
    }
    #output {
      white-space: pre-wrap;
      word-wrap: break-word;
      margin-bottom: 10px;
      line-height: 1.4;
    }
    .prompt-line {
      display: flex;
      align-items: center;
      margin-top: 5px;
    }
    #prompt {
      color: #ff0077;
      margin-bottom: 5px;
      font-weight: bold;
      border-bottom: 1px dashed #ff0077;
      display: block;
    }
    #userInput {
      background: none;
      border: none;
      color: #00ffcc;
      font-family: 'DotGothic16', monospace;
      font-size: 16px;
      outline: none;
      flex-grow: 1;
      padding: 5px;
      min-height: 30px;
      border-bottom: 1px solid #00ffcc;
      width: 100%;
    }
    .scramble {
      animation: scramble 0.5s ease-in-out forwards;
    }
    @keyframes scramble {
      0% { opacity: 1; transform: translate(0); }
      50% { opacity: 0.5; color: #ff0077; transform: translate(2px, -2px); }
      100% { opacity: 1; color: #00ffcc; transform: translate(0); }
    }
    .red-scramble {
      color: #ff0077;
      animation: scramble 0.5s ease-in-out forwards;
    }
    #enterKey {
      background: #00ffcc;
      border: 2px solid #00ffcc;
      color: #000;
      padding: 8px 15px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 5px;
      position: absolute;
      bottom: 10px;
      right: 10px;
      display: none;
      min-width: 60px;
    }
  </style>
</head>
<body>
  <div id="terminal">
    <div id="lang-buttons">
      <button id="lang-ja">Êó•Êú¨Ë™û</button>
      <button id="lang-en" class="active">English</button>
    </div>
    <div id="output">üåê HELL0w0RLD! üåê</div>
  </div>
  <button id="enterKey">ENTER</button>

  <script>
    const translations = {
      en: {
        prompt: "üì° 0108: What's on your mind? >",
        sos1: "0108 can catch your signal anytime!",
        sos2: "Scanning your heart... ",
        sos3: "üö® Alert! Virus detected!",
        sos4: "Press [Enter] to let 0108 take down the virus!",
        sos5: "0108 will take down the virus!",
        sos6: "‚úÖ Virus eliminated! \nHeart status: 150% clean.",
      },
      ja: {
        prompt: "üì° 0108: Ë™øÂ≠ê„ÅØ„Å©„ÅÜÔºü >",
        sos1: "0108„ÅØ24ÊôÇÈñì„ÅÇ„Å™„Åü„ÅÆ‰ø°Âè∑„ÇíÂèó‰ø°‰∏≠ÔºÅ",
        sos2: "„ÅÇ„Å™„Åü„ÅÆÂøÉ„Çí„Çπ„Ç≠„É£„É≥„Åó„Å¶„ÅÑ„Åæ„Åô... ",
        sos3: "üö® „Ç¶„Ç§„É´„ÇπÁô∫Ë¶ãÔºÅ",
        sos4: "[Enter]„ÇíÊäº„Åó„Å¶„Ç¶„Ç§„É´„ÇπÊéíÈô§„Åó„Çà„ÅÜÔºÅ",
        sos5: "0108„Åå„Ç¶„Ç§„É´„Çπ„ÇíÊéíÈô§„Åó„Åæ„ÅôÔºÅ",
        sos6: "‚úÖ „Ç¶„Ç§„É´„Çπ„Çí„ÇÑ„Å£„Å§„Åë„Åü„ÅûÔºÅ\nÂøÉ„ÅÆÁä∂ÊÖã: 150%„ÇØ„É™„Éº„É≥„ÄÇ",
      }
    };

    const output = document.getElementById('output');
    let isJapanese = false;
    const langJaButton = document.getElementById('lang-ja');
    const langEnButton = document.getElementById('lang-en');
    let userInput = null;
    const enterKey = document.getElementById('enterKey');

    window.addEventListener('DOMContentLoaded', () => {
      const lang = isJapanese ? 'ja' : 'en';
      appendPromptLine(lang);
    });

    function appendPromptLine(lang, promptKey = 'prompt') {
      removeExistingPromptLines();

      const promptText = document.createElement('div');
      promptText.id = 'prompt';
      promptText.setAttribute('data-key', promptKey);
      promptText.textContent = translations[lang][promptKey || 'prompt'];
      promptText.style.marginBottom = '5px';
      promptText.style.fontWeight = 'bold';
      promptText.style.borderBottom = '1px dashed #ff0077';
      promptText.style.color = '#ff0077';

      const inputWrapper = document.createElement('div');
      inputWrapper.classList.add('prompt-line');

      const inputField = document.createElement('input');
      inputField.id = 'userInput';
      inputField.type = 'text';
      inputField.style.fontSize = '16px';
      inputField.style.background = 'none';
      inputField.style.border = 'none';
      inputField.style.color = '#00ffcc';
      inputField.style.fontFamily = "'DotGothic16', monospace";
      inputField.style.outline = 'none';
      inputField.style.flexGrow = '1';
      inputField.style.padding = '5px';
      inputField.style.minHeight = '30px';
      inputField.style.borderBottom = '1px solid #00ffcc';
      inputField.style.width = '100%';

      inputWrapper.appendChild(inputField);
      output.appendChild(promptText);
      output.appendChild(inputWrapper);

      const spacer = document.createElement('div');
      spacer.style.height = '1em';
      output.appendChild(spacer);

      output.scrollTop = output.scrollHeight;

      userInput = inputField;
      userInput.addEventListener('keydown', handleInput);
      userInput.focus();
    }

    function removeExistingPromptLines() {
      const lines = output.querySelectorAll('.prompt-line, #prompt');
      lines.forEach(el => el.remove());
    }

    function handleInput(event) {
      if (event.key !== 'Enter' || !userInput) return;
      const val = userInput.value.trim().toLowerCase();

      const display = document.createElement('div');
      display.textContent = 'üì° ' + val;
      display.classList.add('red-scramble');
      output.appendChild(display);

      removeExistingPromptLines();

      const lang = isJapanese ? 'ja' : 'en';
      const t = translations[lang];

      if (val.includes('sos')) {
        const addLine = (text, red = false) => {
          const line = document.createElement('div');
          line.textContent = text;
          if (red) line.classList.add('red-scramble');
          output.appendChild(line);
        };

        addLine(t['sos1']);
        let progress = 0;

        const scan = setInterval(() => {
          progress++;
          const line = `${t['sos2']}[${'‚ñà'.repeat(progress)}${'-'.repeat(10 - progress)}]`;
          addLine(line);
          if (progress === 10) {
            clearInterval(scan);
            addLine(t['sos3'], true);
            addLine(t['sos4'], true);

            appendPromptLine(lang);
            enterKey.style.display = 'block';
            output.appendChild(enterKey);
            output.scrollTop = output.scrollHeight;

            const handler = () => {
              enterKey.removeEventListener('click', handler);
              enterKey.style.display = 'none';
              removeExistingPromptLines();

              addLine(t['sos5']);
              let shock = 0;
              const pulse = setInterval(() => {
                shock++;
                addLine('‚ö° '.repeat(shock));
                if (shock === 10) {
                  clearInterval(pulse);
                  addLine(t['sos6']);
                  appendPromptLine(lang);
                }
              }, 200);
            };

            enterKey.addEventListener('click', handler);
          }
        }, 200);
      } else {
        appendPromptLine(lang);
      }
    }

    function updateLanguage() {
      const lang = isJapanese ? 'ja' : 'en';
      document.querySelectorAll('[data-key]').forEach(el => {
        const key = el.getAttribute('data-key');
        el.textContent = translations[lang][key || 'prompt'];
      });
    }

    langJaButton.addEventListener('click', () => {
      isJapanese = true;
      langJaButton.classList.add('active');
      langEnButton.classList.remove('active');
      updateLanguage();
    });

    langEnButton.addEventListener('click', () => {
      isJapanese = false;
      langEnButton.classList.add('active');
      langJaButton.classList.remove('active');
      updateLanguage();
    });
  </script>
</body>
</html>
